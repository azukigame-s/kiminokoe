[
	{"type": "dialogue", "text": "=== Step 4 テスト開始 ===", "new_page": true},
	{"type": "dialogue", "text": "テスト1: jump コマンド"},
	{"type": "dialogue", "text": "index 100 にジャンプします。次の2行はスキップされるはずです。", "go_next": true},

	{"type": "jump", "index": 100},

	{"type": "dialogue", "text": "【失敗】このテキストは表示されないはずです。", "new_page": true},
	{"type": "dialogue", "text": "【失敗】このテキストも表示されないはずです。"},

	{"type": "index", "index": 100},

	{"type": "dialogue", "text": "【成功】ジャンプ成功！index 100 に到達しました。", "new_page": true},

	{"type": "dialogue", "text": "テスト2: episode_clear コマンド", "new_page": true},
	{"type": "dialogue", "text": "ep_1 をクリア済みとして記録します。コンソールにログが出ます。", "go_next": true},

	{"type": "episode_clear", "id": "ep_1"},

	{"type": "dialogue", "text": "【成功】ep_1 クリア記録完了。コンソールを確認してください。", "new_page": true},

	{"type": "background", "path": "res://assets/backgrounds/sea.jpg"},

	{"type": "dialogue", "text": "テスト3: load_scenario（エピソード呼び出し）", "new_page": true},
	{"type": "dialogue", "text": "背景が海に変わりました。次のエピソード呼び出しでグレースケールになるはずです。"},

	{"type": "load_scenario", "path": "episodes/test_mini_episode"},

	{"type": "dialogue", "text": "【確認】エピソードから戻りました。グレースケールが解除されていますか？", "new_page": true},

	{"type": "dialogue", "text": "テスト4: load_scenario（shared呼び出し）", "new_page": true},
	{"type": "dialogue", "text": "ミニ共用シナリオを呼び出します。グレースケールにはならないはずです。"},

	{"type": "load_scenario", "path": "shared/test_mini_shared"},

	{"type": "dialogue", "text": "【確認】共用シナリオから戻りました。", "new_page": true},

	{"type": "dialogue", "text": "=== Step 4 テスト完了 ===", "new_page": true},
	{"type": "dialogue", "text": "すべてのテストが正常に動作しました！"}
]